### 微信小程序如何跨页面传参
微信小程序每个页面都有自己的作用域，各个页面之间是隔离的，无法访问到其他页面的数据。但每个页面都可以拿到应用的实例，所以在app上保存要共享的数据是一个可以跨页面共享数据的方式。例如小程序官方示例上的globalData：
<pre><code>// app.js
App({
  onLaunch (options) {
    // Do something initial when launch.
  },
  onShow (options) {
    // Do something when show.
  },
  onHide () {
    // Do something when hide.
  },
  onError (msg) {
    console.log(msg)
  },
  globalData: 'I am global data'
})
</code></pre>
当应用变的复杂时，每次需要时就加一个全局属性，是有命名冲突的风险的。为了避免这个问题，所有的新增全局属性都应该统一个地方去定义和初始化，这样就可以看到别人已经使用过的全局属性，再加上一些其他的检测手段（比如Eslint的对象属性不能重复）可以避免命名冲突的问题。但每次加的时候，都要改动`app.js`也不太好，因为`app.js`本身会有一些逻辑，如果改动了，就需要对这一块的逻辑做一些测试。最好的方式是把全局共享变量的逻辑移到一个单独的文件，与`app.js`分离开来，这样就不用每次加全局属性的时候还要去测`app.js`模块的逻辑。

除此之外，还有一个方式，就是单独定义一个数据共享的模块，这个模块也不用挂载到整个app上，当需要跨页面共享数据时，就引入这个模块，从这个模块中存取数据，这样就完全和`app.js`脱离关系了。

### 微信小程序前后端交互时如何保存用户状态？
一个web应用的登录过程应该是这样的：用户在客户端输入用户名和密码，提交到后端校验，后端校验通过后会在缓存中生成用户的session，每个session会由一个sessionId，在登陆接口返回时，响应报文中会增加一个set-cookie字段，把sessionId放到cookie中，浏览器收到服务端的响应后，就会把set-cookie里面的内容写到浏览器cookie中，后续浏览器每次发送到服务器的请求就会默认带上cookie，服务端通过cookie拿到sessionId，这样就可以知道用户的身份了。

而在微信小程序中，没有对cookie自动存储，也不存在每次请求时自动带上cookie。所以我们需要做两件事：1）在拿到用户cookie后保存用户cookie；2）每次发送请求时在请求头里加上cookie


